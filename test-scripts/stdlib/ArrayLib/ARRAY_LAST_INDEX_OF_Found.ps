// LINK "scripts/stdlib/ArrayLib.ps"

FUNCTION ARRAY_LAST_INDEX_OF(INT CHAIN arr, INT size, INT value)[INT] {
    FLEX lastIndex = 0 - 1
    CYCLE size AS i {
        FLEX elem = arr[i]
        IF elem == value {
            lastIndex = i
        }
    }
    RETURN lastIndex
}

// Test: ARRAY_LAST_INDEX_OF - Find last occurrence of 5
INT arr = CHAIN 5 WITH 5, 3, 5, 5, 2
FLEX result = ARRAY_LAST_INDEX_OF(arr, 5, 5)
PRINT result
// Expected: 3
