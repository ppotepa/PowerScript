// LINK "scripts/stdlib/ArrayLib.ps"

FUNCTION ARRAY_RANGE(INT CHAIN arr, INT size)[INT] {
    IF size <= 0 {
        RETURN 0
    }
    FLEX min_val = arr[0]
    FLEX max_val = arr[0]
    CYCLE size AS i {
        FLEX elem = arr[i]
        IF elem < min_val {
            min_val = elem
        }
        IF elem > max_val {
            max_val = elem
        }
    }
    FLEX range = max_val - min_val
    RETURN range
}

// Test: ARRAY_RANGE - Calculate range
INT arr = CHAIN 5 WITH 2, 8, 5, 3, 9
FLEX result = ARRAY_RANGE(arr, 5)
PRINT result
// Expected: 7
