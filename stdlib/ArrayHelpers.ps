// Array helper functions for FLEX arrays (used by custom syntax patterns)
// These functions work with FLEX arrays (List<Object>) rather than INT CHAIN
// Using CYCLE ELEMENTS OF for dynamic array length support

FUNCTION ARRAY_MAX(FLEX arr)[FLEX] {
    FLEX max = arr[0]
    
    CYCLE ELEMENTS OF arr AS element {
        IF element > max {
            max = element
        }
    }
    
    RETURN max
}

FUNCTION ARRAY_MIN(FLEX arr)[FLEX] {
    FLEX min = arr[0]
    
    CYCLE ELEMENTS OF arr AS element {
        IF element < min {
            min = element
        }
    }
    
    RETURN min
}

FUNCTION ARRAY_LENGTH(FLEX arr)[INT] {
    INT count = 0
    
    CYCLE ELEMENTS OF arr AS element {
        count = count + 1
    }
    
    RETURN count
}
